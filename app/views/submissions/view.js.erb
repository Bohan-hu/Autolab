// If we've navigated to another file, do nothing
if (currentHeaderPos == <%= params[:header_position] %>) {
    // Update the code viewer and annotations with the new data
    $('#code-box').replaceWith('<%= j render("submissions/code_viewer") %>');

    // Add syntax highlighting to the new code viewer
    $('pre code').each(function(){hljs.highlightBlock(this)})

    // Update the page URL
    history.replaceState(null, null, '<%= url_for(params) %>')
}
